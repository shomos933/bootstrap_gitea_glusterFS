# bootstrap_gitea_glusterFS
Cоздание двух виртуалок в редхате через тераформ и установка на них Gitea 
через резервирование с помощью glusterFS

1. Создаём два виртуальных сервера с минимальным Debian‑образом 
(используя cloud‑init для первичной настройки, статических IP, DNS, проброса SSH‑ключа)

2. Автоматически настраиваем серверы через Ansible 
(общие настройки, отключение автообновлений, очистка кэша, настройка лог‑менеджмента, 
установка GlusterFS и Gitea)


project/
├── terraform/
│   ├── main.tf            # Конфигурация Terraform для создания ВМ с cloud-init
│   ├── variables.tf       # Объявление переменных (статические IP, имя пользователя и т.п.)
│   ├── outputs.tf         # Вывод созданных ресурсов (имена ВМ)
│   └── cloud-init.cfg     # Шаблон cloud-init для первичной настройки ВМ
├── ansible/
│   ├── inventory.ini      # Инвентори-файл с IP-адресами созданных ВМ
│   ├── playbook.yml       # Основной Ansible-плейбук, запускающий роли
│   └── roles/
│        ├── common/
│        │    └── tasks/
│        │         └── main.yml         # Задачи: обновление системы, установка утилит, настройка логов, отключение автообновлений, обновление known_hosts
│        │    └── files/
│        │         └── setup_log_management.sh  # Скрипт настройки логов
│        ├── glusterfs/
│        │    └── tasks/
│        │         └── main.yml         # Задачи по установке и настройке GlusterFS
│        └── gitea/
│             ├── tasks/
│             │         └── main.yml     # Задачи по установке и настройке Gitea
│             └── handlers/
│                       └── main.yml     # Хэндлер для перезапуска Gitea
└── master.sh             # Мастер-скрипт, выполняющий процесс (Terraform → Ansible)



